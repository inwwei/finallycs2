(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b1dc6"],{"223c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("panel",{attrs:{title:" เพิ่มสินค้า"},scopedSlots:e._u([{key:"header-right",fn:function(){},proxy:!0}])},[r("div",{staticClass:"vx-row"},[r("custom-tree-select",{attrs:{url:"/api/setting/master/product",col:4},on:{"node-select":e.nodeSelect},model:{value:e.form.setting_master_product_id,callback:function(t){e.$set(e.form,"setting_master_product_id",t)},expression:"form.setting_master_product_id"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ชื่อสินค้า(ภาษาไทย)",col:4},model:{value:e.form.name_th,callback:function(t){e.$set(e.form,"name_th",t)},expression:"form.name_th"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ชื่อสินค้า(ภาษาอังกฤษ)",col:4},model:{value:e.form.name_en,callback:function(t){e.$set(e.form,"name_en",t)},expression:"form.name_en"}})],1),r("div",{staticClass:"vx-row"},[r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"รายละเอียด",col:4},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"รหัสสินค้า",col:4},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),"ตัวรถ"===e.setting_form.type?r("form-input",{attrs:{label:"รหัสเครื่อง",col:4},model:{value:e.form.machine_code,callback:function(t){e.$set(e.form,"machine_code",t)},expression:"form.machine_code"}}):e._e(),"ตัวรถ"===e.setting_form.type?r("form-input",{attrs:{label:"รหัสตัวถัง",col:3},model:{value:e.form.vin,callback:function(t){e.$set(e.form,"vin",t)},expression:"form.vin"}}):e._e(),"อะไหล่"===e.setting_form.type?r("form-input",{attrs:{label:"จำนวน",col:3},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",t)},expression:"form.quantity"}}):e._e(),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ราคาขายปลีก",col:2},model:{value:e.form.retail_price,callback:function(t){e.$set(e.form,"retail_price",t)},expression:"form.retail_price"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ราคาขายส่ง",col:2},model:{value:e.form.wholesale_price,callback:function(t){e.$set(e.form,"wholesale_price",t)},expression:"form.wholesale_price"}}),r("form-tag",{attrs:{col:8},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})],1),r("div",[r("attached",{ref:"upload",attrs:{model:e.data_model}})],1),r("br"),r("vs-row",[r("vs-col",{attrs:{"vs-type":"flex","vs-justify":"flex-end","vs-align":"center"}},[r("vs-button",{staticClass:"mr-3",on:{click:function(t){return e.openAlert()}}},[e._v("บันทึก")]),r("router-link",{attrs:{to:"/product/checkWarehouse"}},[r("vs-button",{attrs:{color:"danger",type:"filled"}},[e._v("ยกเลิก")])],1)],1)],1),r("pre",[e._v(e._s(e.form))])],1)},o=[],i=(r("96cf"),r("3b8d")),n=r("4a7a"),s=r.n(n),c={components:{"v-select":s.a},data:function(){return{setting_form:{},form:{code:"",machine_code:"",vin:"",name_th:"",name_en:"",tags:[],description:"",quantity:"",retail_price:"",wholesale_price:"",productInsert:"",setting_master_product_id:""},data_id:"",data_model:"App\\Models\\Product\\Product"}},methods:{nodeSelect:function(e){console.log(e),this.setting_form=e,this.setData()},setData:function(){this.form.name_en=this.setting_form.name_en,this.form.name_th=this.setting_form.name_th,this.form.retail_price=this.setting_form.retail_price},openAlert:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$validator.validateAll();case 3:t=e.sent,t?this.$vs.dialog({type:"confirm",color:"success",title:"คุณต้องการเพิ่มข้อมูลหรือไม่",text:"เพิ่มข้อมูลสินค้า  ".concat(this.form.name_th),acceptText:"ยืนยัน",cancelText:"ยกเลิก",accept:this.acceptAdd}):this.$vs.dialog({color:"danger",title:"เพิ่มข้อมูลไม่สำเร็จ",text:"กรุณาตรวจสอบความถูกต้องอีกครั้ง !",acceptText:"ปิด"}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("error",e.t0),this.$vs.dialog({color:"danger",title:"เพิ่มข้อมูลไม่สำเร็จ",text:"กรุณาตรวจสอบความถูกต้องอีกครั้ง !",acceptText:"ปิด"});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),acceptAdd:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("/api/product/",this.form);case 2:return t=e.sent,this.data_id=t.data.data.id,this.$refs.upload.id=t.data.data.id,e.next=7,this.$refs.upload.submit();case 7:r=e.sent,console.log(r),this.$vs.notify({color:"success",title:"ยืนยันการเพิ่มข้อมูล",text:"เพิ่มข้อมูลสำเร็จ"}),this.$router.push({name:"product_index",query:{}});case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){}},l=c,d=r("2877"),u=Object(d["a"])(l,a,o,!1,null,"0251a20a",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0b1dc6.514accf3.js.map