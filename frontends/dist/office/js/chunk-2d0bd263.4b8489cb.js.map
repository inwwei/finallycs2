{"version":3,"sources":["webpack:///./src/views/member/Index.vue?3a8e","webpack:///src/views/member/Index.vue","webpack:///./src/views/member/Index.vue?5af9","webpack:///./src/views/member/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_v","proxy","customers","ref","data","_l","customer","indextr","customer_name","_s","customer_address","value","hasCustomerContacts","on","$event","infoCustomer","editCustomer","deleteConfirm","slot","staticRenderFns","methods","customer_contacts","$router","push","customerDelete","$vs","dialog","type","color","title","acceptText","cancelText","text","accept","acceptAlert","mounted","loadData","component"],"mappings":"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","file":"js/chunk-2d0bd263.4b8489cb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col w-full md:w-1/1 lg:w-1/1 xl:w-1/1\"},[_c('panel',{attrs:{\"title\":\"สมาชิกทั้งหมด\"},scopedSlots:_vm._u([{key:\"header-right\",fn:function(){return [_c('router-link',{attrs:{\"to\":\"/member/AddMember\"}},[_c('vs-button',{attrs:{\"color\":\"primary\",\"type\":\"filled\"}},[_vm._v(\"เพิ่ม\")])],1)]},proxy:true}])},[_c('vs-table',{attrs:{\"id\":\"test\",\"max-items\":\"6\",\"pagination\":\"\",\"search\":\"\",\"data\":_vm.customers},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(customer,indextr){return _c('vs-tr',{key:indextr},[_c('vs-td',{attrs:{\"data\":customer.customer_name}},[_vm._v(\"\\n                  \"+_vm._s(customer.customer_name)+\"\\n                \")]),_c('vs-td',{attrs:{\"data\":customer.customer_address}},[_vm._v(\"\\n                  \"+_vm._s(customer.customer_address)+\"\\n                \")]),_c('vs-td',{attrs:{\"data\":customer.value}},[_vm._v(\"\\n                  \"+_vm._s(_vm.hasCustomerContacts(customer))+\"\\n                \")]),_c('vs-td',[_c('div',{staticClass:\"flex mb-3\",attrs:{\"align\":\"center\"}},[_c('div',{staticClass:\"w-1/6 bg-grid-color h-12\"},[_c('vs-button',{attrs:{\"color\":\"primary\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-search\"},on:{\"click\":function($event){return _vm.infoCustomer(customer)}}})],1),_vm._v(\"\\n                       \\n                    \"),_c('div',{staticClass:\"w-1/6 bg-grid-color h-12\"},[_c('vs-button',{attrs:{\"color\":\"warning\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-edit\"},on:{\"click\":function($event){return _vm.editCustomer(customer)}}})],1),_vm._v(\"\\n                       \\n                    \"),_c('div',{staticClass:\"w-1/6 bg-grid-color h-12\"},[_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-trash\"},on:{\"click\":function($event){return _vm.deleteConfirm(customer)}}})],1),_c('div',{staticClass:\"w-1/6 bg-grid-color-secondary h-12\"})])])],1)})}}])},[_c('template',{slot:\"header\"}),_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"name\"}},[_vm._v(\"ชื่อ\")]),_c('vs-th',{attrs:{\"sort-key\":\"address\"}},[_vm._v(\"ที่อยู่\")]),_c('vs-th',{attrs:{\"sort-key\":\"tel\"}},[_vm._v(\"ติดต่อ\")]),_c('vs-th',{attrs:{\"sort-key\":\"tel\"}})],1)],2)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"vx-row\">\n      <div class=\"vx-col w-full md:w-1/1 lg:w-1/1 xl:w-1/1\">\n        <panel title=\"สมาชิกทั้งหมด\"\n          ><template v-slot:header-right>\n            <router-link to=\"/member/AddMember\"\n              ><vs-button color=\"primary\" type=\"filled\"\n                >เพิ่ม</vs-button\n              ></router-link\n            >\n          </template>\n            <vs-table\n              id=\"test\"\n              max-items=\"6\"\n              pagination\n              search\n              :data=\"customers\"\n            >\n              <template slot=\"header\"> </template>\n              <template slot=\"thead\">\n                <vs-th sort-key=\"name\">ชื่อ</vs-th>\n                <vs-th sort-key=\"address\">ที่อยู่</vs-th>\n                <vs-th sort-key=\"tel\">ติดต่อ</vs-th>\n                <vs-th sort-key=\"tel\"></vs-th>\n              </template>\n              <template slot-scope=\"{ data }\">\n                <vs-tr :key=\"indextr\" v-for=\"(customer, indextr) in data\">\n                  <vs-td :data=\"customer.customer_name\">\n                    {{ customer.customer_name }}\n                  </vs-td>\n\n                  <vs-td :data=\"customer.customer_address\">\n                    {{ customer.customer_address }}\n                  </vs-td>\n                  <vs-td :data=\"customer.value\">\n                    {{ hasCustomerContacts(customer) }}\n                  </vs-td>\n\n                  <vs-td>\n                    <div class=\"flex mb-3\" align=\"center\">\n                      <div class=\"w-1/6 bg-grid-color h-12\">\n                        <vs-button\n                          color=\"primary\"\n                          type=\"flat\"\n                          icon-pack=\"feather\"\n                          icon=\"icon-search\"\n                          @click=\"infoCustomer(customer)\"\n                        ></vs-button>\n                      </div>\n                      &nbsp; &nbsp;\n                      <div class=\"w-1/6 bg-grid-color h-12\">\n                        <vs-button\n                          color=\"warning\"\n                          type=\"flat\"\n                          icon-pack=\"feather\"\n                          icon=\"icon-edit\"\n                          @click=\"editCustomer(customer)\"\n                        ></vs-button>\n                      </div>\n                      &nbsp; &nbsp;\n                      <div class=\"w-1/6 bg-grid-color h-12\">\n                        <vs-button\n                          color=\"danger\"\n                          @click=\"deleteConfirm(customer)\"\n                          type=\"flat\"\n                          icon-pack=\"feather\"\n                          icon=\"icon-trash\"\n                        ></vs-button>\n                      </div>\n\n                      <div class=\"w-1/6 bg-grid-color-secondary h-12\"></div>\n                    </div>\n                  </vs-td>\n                </vs-tr>\n              </template>\n            </vs-table>\n        </panel>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      customers: []\n    }\n  },\n  methods: {\n    hasCustomerContacts (customer) {\n      return customer.customer_contacts[0] ? customer.customer_contacts[0].value  : 'ไม่มีข้อมูลติดต่อ'\n    },\n    async loadData () {\n      try {\n        const { data } = await this.$http.get(\n          '/api/customers'\n        )\n        this.customers = data.data\n\n        if (this.customers.length === 0) {\n          console.log('empty customer')\n        }\n      } catch (error) {\n        throw error\n      }\n    },\n    editCustomer (customer) {\n      this.$router.push({ name: 'customer_edit', query: { id: customer.id } })\n    },\n    infoCustomer (customer) {\n      this.$router.push({ name: 'customer_info', query: { id: customer.id } })\n    },\n    deleteConfirm (customer) {\n      this.customerDelete = customer\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: 'ต้องการลบรายการนี้หรือไม่ ?',\n        acceptText: 'ยืนยัน',\n        cancelText: 'ยกเลิก',\n        text: `คุณแน่ใจหรือไม่ว่าต้องการลบ ${this.customerDelete.customer_name}`,\n        accept: this.acceptAlert\n      })\n    },\n    async acceptAlert () {\n      try {\n        await this.$http.delete(\n          `/api/customers/${this.customerDelete.id}`\n        )\n        await this.loadData()\n      } catch (error) {\n        // this.$swal('ลบข้อมูลไม่สำเร็จ', '', 'error')\n      }\n      this.$vs.notify({\n        color: 'danger',\n        title: 'ลบข้อมูล',\n        text: 'ลบข้อมูลสมาชิกสำเร็จ'\n      })\n    }\n  },\n  mounted () {\n    this.loadData()\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=8f3fddb0&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}