(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd263"],{"2b85":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"vx-row"},[r("div",{staticClass:"vx-col w-full md:w-1/1 lg:w-1/1 xl:w-1/1"},[r("panel",{attrs:{title:"สมาชิกทั้งหมด"},scopedSlots:t._u([{key:"header-right",fn:function(){return[r("router-link",{attrs:{to:"/member/AddMember"}},[r("vs-button",{attrs:{color:"primary",type:"filled"}},[t._v("เพิ่ม")])],1)]},proxy:!0}])},[r("vs-table",{attrs:{id:"test","max-items":"6",pagination:"",search:"",data:t.customers},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,s){return r("vs-tr",{key:s},[r("vs-td",{attrs:{data:e.customer_name}},[t._v("\n                  "+t._s(e.customer_name)+"\n                ")]),r("vs-td",{attrs:{data:e.customer_address}},[t._v("\n                  "+t._s(e.customer_address)+"\n                ")]),r("vs-td",{attrs:{data:e.value}},[t._v("\n                  "+t._s(t.hasCustomerContacts(e))+"\n                ")]),r("vs-td",[r("div",{staticClass:"flex mb-3",attrs:{align:"center"}},[r("div",{staticClass:"w-1/6 bg-grid-color h-12"},[r("vs-button",{attrs:{color:"primary",type:"flat","icon-pack":"feather",icon:"icon-search"},on:{click:function(r){return t.infoCustomer(e)}}})],1),t._v("\n                       \n                    "),r("div",{staticClass:"w-1/6 bg-grid-color h-12"},[r("vs-button",{attrs:{color:"warning",type:"flat","icon-pack":"feather",icon:"icon-edit"},on:{click:function(r){return t.editCustomer(e)}}})],1),t._v("\n                       \n                    "),r("div",{staticClass:"w-1/6 bg-grid-color h-12"},[r("vs-button",{attrs:{color:"danger",type:"flat","icon-pack":"feather",icon:"icon-trash"},on:{click:function(r){return t.deleteConfirm(e)}}})],1),r("div",{staticClass:"w-1/6 bg-grid-color-secondary h-12"})])])],1)}))}}])},[r("template",{slot:"header"}),r("template",{slot:"thead"},[r("vs-th",{attrs:{"sort-key":"name"}},[t._v("ชื่อ")]),r("vs-th",{attrs:{"sort-key":"address"}},[t._v("ที่อยู่")]),r("vs-th",{attrs:{"sort-key":"tel"}},[t._v("ติดต่อ")]),r("vs-th",{attrs:{"sort-key":"tel"}})],1)],2)],1)],1)])])},n=[],a=(r("96cf"),r("3b8d")),o={data:function(){return{customers:[]}},methods:{hasCustomerContacts:function(t){return t.customer_contacts[0]?t.customer_contacts[0].value:"ไม่มีข้อมูลติดต่อ"},loadData:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("/api/customers");case 3:e=t.sent,r=e.data,this.customers=r.data,0===this.customers.length&&console.log("empty customer"),t.next=12;break;case 9:throw t.prev=9,t.t0=t["catch"](0),t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),editCustomer:function(t){this.$router.push({name:"customer_edit",query:{id:t.id}})},infoCustomer:function(t){this.$router.push({name:"customer_info",query:{id:t.id}})},deleteConfirm:function(t){this.customerDelete=t,this.$vs.dialog({type:"confirm",color:"danger",title:"ต้องการลบรายการนี้หรือไม่ ?",acceptText:"ยืนยัน",cancelText:"ยกเลิก",text:"คุณแน่ใจหรือไม่ว่าต้องการลบ ".concat(this.customerDelete.customer_name),accept:this.acceptAlert})},acceptAlert:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.delete("/api/customers/".concat(this.customerDelete.id));case 3:return t.next=5,this.loadData();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:this.$vs.notify({color:"danger",title:"ลบข้อมูล",text:"ลบข้อมูลสมาชิกสำเร็จ"});case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.loadData()}},c=o,i=r("2877"),u=Object(i["a"])(c,s,n,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0bd263.4b8489cb.js.map