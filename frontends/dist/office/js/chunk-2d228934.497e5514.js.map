{"version":3,"sources":["webpack:///./src/views/employee/Edit.vue?945d","webpack:///./src/views/employee/EditContact.vue?f8b6","webpack:///src/views/employee/EditContact.vue","webpack:///./src/views/employee/EditContact.vue?2199","webpack:///./src/views/employee/EditContact.vue","webpack:///src/views/employee/Edit.vue","webpack:///./src/views/employee/Edit.vue?1004","webpack:///./src/views/employee/Edit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","directives","name","rawName","value","expression","model","form","callback","$$v","$set","ref","id","data_model","on","$event","updateData","staticRenderFns","scopedSlots","_u","key","fn","activePrompt1","proxy","acceptAlertAddContact","add","activePrompt2","acceptEdit","edit","user_contacts","data","_l","tr","indextr","_s","type","openConfirmEdit","openConfirmDelete","slot","contacts","user_id","methods","setID","$route","query","setDataNull","deleteUserContact","$vs","dialog","color","title","text","accept","acceptDelete","acceptText","cancelText","mounted","loadDataTable","component","components","EditContact","data_id","email","username","password","setting_master_users_id","branch","code","setData","setTimeout"],"mappings":"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","file":"js/chunk-2d228934.497e5514.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('panel',{attrs:{\"title\":\"แก้ไขข้อมูลพนักงาน\"}},[_c('div',{staticClass:\"my-3 ml-5\"},[_c('p',[_vm._v(\"กรอกข้อมูลส่วนตัว\")])]),_c('div',{staticClass:\"vx-row mr-5 ml-5\"},[_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"ชื่อ-สกุล\",\"col\":4},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"รหัสพนักงาน\",\"col\":4},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}}),_c('custom-tree-select',{staticClass:\"vx-col my-5\",attrs:{\"url\":\"/api/setting/master/user\",\"col\":4},model:{value:(_vm.form.setting_master_users_id),callback:function ($$v) {_vm.$set(_vm.form, \"setting_master_users_id\", $$v)},expression:\"form.setting_master_users_id\"}})],1),_c('div',{staticClass:\"vx-row mr-5 ml-5\"},[_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"สาขา\",\"col\":4},model:{value:(_vm.form.branch),callback:function ($$v) {_vm.$set(_vm.form, \"branch\", $$v)},expression:\"form.branch\"}})],1),_c('div',{staticClass:\"my-3 ml-5\"},[_c('p',[_vm._v(\"กรอกข้อมูลบัญชีผู้ใช้\")])]),_c('div',{staticClass:\"vx-row mr-5 ml-5\"},[_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"อีเมล\",\"col\":4},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"ชื่อบัญชีผู้ใช้\",\"col\":4},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"รหัสผ่าน\",\"col\":4},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('div',{staticClass:\"my-3 ml-5\"},[_c('p',[_vm._v(\"แนบรูปถ่ายหน้าตรง\")])]),_c('div',{staticClass:\"vx-row ml-5\"},[_c('attached',{ref:\"upload\",attrs:{\"attached_id\":_vm.form.id,\"model\":_vm.data_model,\"readOnly\":false}})],1),_c('br'),_c('vs-row',{attrs:{\"vs-type\":\"flex\",\"vs-justify\":\"flex-end\"}},[_c('vs-col',{attrs:{\"vs-type\":\"flex\",\"vs-justify\":\"flex-end\",\"vs-align\":\"center\"}},[_c('vs-button',{staticClass:\"mr-3\",on:{\"click\":function($event){return _vm.updateData()}}},[_vm._v(\"บันทึก\")]),_c('router-link',{attrs:{\"to\":\"/employee/Index\"}},[_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"filled\"}},[_vm._v(\"ยกเลิก\")])],1)],1)],1)],1),_c('edit-contact',{staticClass:\"my-5\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('panel',{attrs:{\"title\":\"แก้ไขข้อมูลติดต่อ\"},scopedSlots:_vm._u([{key:\"header-right\",fn:function(){return [_c('vs-button',{attrs:{\"color\":\"primary\",\"type\":\"filled\"},on:{\"click\":function($event){_vm.activePrompt1 = true}}},[_vm._v(\"เพิ่ม\")])]},proxy:true}])},[_c('div',[_c('vs-prompt',{attrs:{\"title\":\"เพิ่มข้อมูลติดต่อ\",\"color\":\"success\",\"active\":_vm.activePrompt1},on:{\"accept\":_vm.acceptAlertAddContact,\"update:active\":function($event){_vm.activePrompt1=$event}}},[_c('div',{staticClass:\"con-exemple-prompt\"},[_c('form-input',{attrs:{\"label\":\"ประเภท\",\"col\":12},model:{value:(_vm.add.type),callback:function ($$v) {_vm.$set(_vm.add, \"type\", $$v)},expression:\"add.type\"}}),_c('form-input',{attrs:{\"label\":\"ค่า\",\"col\":12},model:{value:(_vm.add.value),callback:function ($$v) {_vm.$set(_vm.add, \"value\", $$v)},expression:\"add.value\"}})],1)]),_c('vs-prompt',{attrs:{\"title\":\"แก้ไขข้อมูลติดต่อ\",\"color\":\"warning\",\"active\":_vm.activePrompt2},on:{\"accept\":_vm.acceptEdit,\"update:active\":function($event){_vm.activePrompt2=$event}}},[_c('div',{staticClass:\"con-exemple-prompt\"},[_c('form-input',{attrs:{\"label\":\"ประเภท\",\"col\":12},model:{value:(_vm.edit.type),callback:function ($$v) {_vm.$set(_vm.edit, \"type\", $$v)},expression:\"edit.type\"}}),_c('form-input',{attrs:{\"label\":\"ค่า\",\"col\":12},model:{value:(_vm.edit.value),callback:function ($$v) {_vm.$set(_vm.edit, \"value\", $$v)},expression:\"edit.value\"}})],1)]),_c('vs-table',{attrs:{\"max-items\":\"3\",\"pagination\":\"\",\"data\":_vm.form.user_contacts},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,indextr){return _c('vs-tr',{key:indextr},[_c('vs-td',[_vm._v(\"\\n            \"+_vm._s(data[indextr].type)+\"\\n          \")]),_c('vs-td',[_vm._v(\"\\n            \"+_vm._s(data[indextr].value)+\"\\n          \")]),_c('vs-td',[_c('div',{staticClass:\"flex mb-3\",attrs:{\"align\":\"center\"}},[_c('div',{staticClass:\"w-1/6 bg-grid-color h-12\"},[_c('vs-button',{attrs:{\"delay\":\"10s\",\"color\":\"primary\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-edit\"},on:{\"click\":function($event){return _vm.openConfirmEdit(data[indextr])}}})],1),_c('div',{staticClass:\"w-1/6 bg-grid-color h-12\"},[_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-trash\"},on:{\"click\":function($event){return _vm.openConfirmDelete(data[indextr])}}})],1),_c('div',{staticClass:\"w-1/6 bg-grid-color-secondary h-12\"})])])],1)})}}])},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\" ประเภท \")]),_c('vs-th',[_vm._v(\" รายละเอียด \")]),_c('vs-th')],1)],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <panel title=\"แก้ไขข้อมูลติดต่อ\">\n    <template v-slot:header-right>\n      <vs-button @click=\"activePrompt1 = true\" color=\"primary\" type=\"filled\"\n        >เพิ่ม</vs-button\n      >\n    </template>\n    <div>\n      <vs-prompt\n        title=\"เพิ่มข้อมูลติดต่อ\"\n        color=\"success\"\n        @accept=\"acceptAlertAddContact\"\n        :active.sync=\"activePrompt1\"\n      >\n        <div class=\"con-exemple-prompt\">\n          <form-input label=\"ประเภท\" v-model=\"add.type\" :col=\"12\" />\n          <form-input label=\"ค่า\" v-model=\"add.value\" :col=\"12\" />\n        </div>\n\n      </vs-prompt>\n\n      <vs-prompt\n        title=\"แก้ไขข้อมูลติดต่อ\"\n        color=\"warning\"\n        @accept=\"acceptEdit\"\n        :active.sync=\"activePrompt2\"\n      >\n\n        <div class=\"con-exemple-prompt\">\n          <form-input label=\"ประเภท\" v-model=\"edit.type\" :col=\"12\" />\n          <form-input label=\"ค่า\" v-model=\"edit.value\" :col=\"12\" />\n        </div>\n      </vs-prompt>\n\n      <vs-table max-items=\"3\" pagination :data=\"form.user_contacts\">\n        <template slot=\"thead\">\n          <vs-th> ประเภท </vs-th>\n          <vs-th> รายละเอียด </vs-th>\n          <vs-th></vs-th>\n        </template>\n\n        <template slot-scope=\"{ data }\">\n          <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\n            <vs-td>\n              {{ data[indextr].type }}\n            </vs-td>\n            <vs-td>\n              {{ data[indextr].value }}\n            </vs-td>\n            <vs-td>\n              <div class=\"flex mb-3\" align=\"center\">\n                <div class=\"w-1/6 bg-grid-color h-12\">\n                  <vs-button\n                    delay=\"10s\"\n                    color=\"primary\"\n                    type=\"flat\"\n                    icon-pack=\"feather\"\n                    icon=\"icon-edit\"\n                    @click=\"openConfirmEdit(data[indextr])\"\n                  ></vs-button>\n                </div>\n                <div class=\"w-1/6 bg-grid-color h-12\">\n                  <vs-button\n                    @click=\"openConfirmDelete(data[indextr])\"\n                    color=\"danger\"\n                    type=\"flat\"\n                    icon-pack=\"feather\"\n                    icon=\"icon-trash\"\n                  ></vs-button>\n                </div>\n                <div class=\"w-1/6 bg-grid-color-secondary h-12\"></div>\n              </div>\n            </vs-td>\n          </vs-tr>\n        </template>\n      </vs-table>\n    </div>\n    <!-- <pre>{{ this.form.user_contacts}}</pre> -->\n  </panel>\n</template>\n\n<script>\nexport default {\n  name: 'edit-contact',\n  data () {\n    return {\n      activePrompt1: false,\n      activePrompt2: false,\n      contacts: [],\n      form: {\n        user_contacts:[]\n      },\n      add: {\n        user_id: '',\n        value: '',\n        type: ''\n      },\n      edit: {\n        user_id: '',\n        value: '',\n        type: ''\n      }\n    }\n  },\n  methods: {\n    setID () {\n      this.id = this.$route.query.id\n      this.edit.user_id = this.id\n      this.add.user_id = this.id\n    },\n    async loadDataTable () {\n      try {\n        const { data } = await this.$http.get(\n          `/api/user/${this.id}`\n        )\n        this.form.user_contacts = data.data.user_contacts\n      } catch (error) {\n        throw error\n      }\n    },\n    async acceptAlertAddContact () {\n      await this.$http.post(`/api/usercontact/${this.id}`, this.add)\n      await this.loadDataTable()\n      await this.setDataNull()\n      this.$vs.notify({\n        color: 'success',\n        title: 'เพิ่มข้อมูลสำเร็จ',\n        text: 'เพิ่มข้อมูลสมาชิกสำเร็จ'\n      })\n    },\n    setDataNull () {\n      this.add.type = ''\n      this.add.value = ''\n    },\n    async openConfirmEdit (contact) {\n      if (!contact) return ''\n      this.edit = {...contact}\n      // await this.loadContact(contact.id)\n      this.activePrompt2 = true\n    },\n    async acceptEdit () {\n      await this.$http.put(`/api/usercontact/${this.id}/${this.edit.id}`,\n        this.edit\n      )\n      await this.loadDataTable()\n      await this.$vs.notify({\n        color: 'warning',\n        title: 'ยืนยันการแก้ไขข้อมูล',\n        text: 'แก้ไขข้อมูลสำเร็จ'\n      })\n    },\n    openConfirmDelete (indextr) {\n      this.deleteUserContact = indextr\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: 'คุณต้องการลบข้อมูลใช่หรือไม่',\n        text: `ลบข้อมูล ${this.deleteUserContact.value}`,\n        accept: this.acceptDelete,\n        acceptText: 'ยืนยัน',\n        cancelText: 'ยกเลิก'\n      })\n    },\n    async acceptDelete () {\n      try {\n        await this.$http.delete(\n          `/api/usercontact/${this.id}/${this.deleteUserContact.id}`\n        )\n        await this.loadDataTable()\n      } catch (error) {\n        throw error\n      }\n      await this.$vs.notify({\n        color: 'danger',\n        title: 'ยืนยันการลบข้อมูล',\n        text: 'ลบข้อมูลสำเร็จ'\n      })\n    }\n  },\n  mounted () {\n    this.setID()\n    this.loadDataTable()\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditContact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditContact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditContact.vue?vue&type=template&id=2533ebc9&\"\nimport script from \"./EditContact.vue?vue&type=script&lang=js&\"\nexport * from \"./EditContact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <panel title=\"แก้ไขข้อมูลพนักงาน\">\n      <div class=\"my-3 ml-5\">\n        <p>กรอกข้อมูลส่วนตัว</p>\n      </div>\n      <div class=\"vx-row mr-5 ml-5\">\n        <form-input\n          label=\"ชื่อ-สกุล\"\n          v-model=\"form.name\"\n          v-validate=\"`required`\"\n          :col=\"4\"\n        />\n        <form-input\n          label=\"รหัสพนักงาน\"\n          v-model=\"form.code\"\n          v-validate=\"`required`\"\n          :col=\"4\"\n        />\n         <custom-tree-select\n          class=\"vx-col my-5\"\n          url=\"/api/setting/master/user\"\n          v-model=\"form.setting_master_users_id\"\n          :col=\"4\"\n        >\n        </custom-tree-select>\n      </div>\n      <div class=\"vx-row mr-5 ml-5\">\n        <form-input\n          label=\"สาขา\"\n          v-model=\"form.branch\"\n          v-validate=\"`required`\"\n          :col=\"4\"\n        />\n      </div>\n      <div class=\"my-3 ml-5\">\n        <p>กรอกข้อมูลบัญชีผู้ใช้</p>\n      </div>\n      <div class=\"vx-row mr-5 ml-5\">\n        <form-input\n          label=\"อีเมล\"\n          v-model=\"form.email\"\n          v-validate=\"`required`\"\n          :col=\"4\"\n        />\n        <form-input\n          label=\"ชื่อบัญชีผู้ใช้\"\n          v-model=\"form.username\"\n          v-validate=\"`required`\"\n          :col=\"4\"\n        />\n        <form-input\n          label=\"รหัสผ่าน\"\n          v-model=\"form.password\"\n          v-validate=\"`required`\"\n          :col=\"4\"\n        />\n      </div>\n      <div class=\"my-3 ml-5\">\n        <p>แนบรูปถ่ายหน้าตรง</p>\n      </div>\n      <div class=\"vx-row ml-5\">\n        <attached\n          :attached_id=\"form.id\"\n          :model=\"data_model\"\n          :readOnly=\"false\"\n          ref=\"upload\"\n        ></attached>\n      </div>\n      <br />\n      <vs-row vs-type=\"flex\" vs-justify=\"flex-end\">\n        <vs-col vs-type=\"flex\" vs-justify=\"flex-end\" vs-align=\"center\">\n          <vs-button class=\"mr-3\" @click=\"updateData()\">บันทึก</vs-button>\n          <router-link to=\"/employee/Index\">\n            <vs-button color=\"danger\" type=\"filled\">ยกเลิก</vs-button>\n          </router-link>\n        </vs-col>\n      </vs-row>\n      <!-- <pre>{{form}}</pre> -->\n    </panel>\n\n     <edit-contact class=\"my-5\"></edit-contact>\n  </div>\n</template>\n\n<script>\nimport EditContact from './EditContact'\nexport default {\n  components: {\n    EditContact\n  },\n  data () {\n    return {\n      data_id: '',\n      data_model: 'App\\\\Models\\\\User',\n      form: {\n        name: '',\n        email: '',\n        username: '',\n        password: '',\n        setting_master_users_id: '',\n        branch: '',\n        code: ''\n      }\n    }\n  },\n  methods: {\n    setData () {\n      this.form.id = this.$route.query.id\n    },\n    async loadData () {\n      try {\n        const { data } = await this.$http.get(`/api/user/${this.form.id}`)\n        this.form = data.data\n      } catch (error) {\n        throw error\n      }\n    },\n    async updateData () {\n      try {\n        const result = await this.$validator.validateAll()\n        if (result) {\n          await this.$vs.dialog({\n            type: 'confirm',\n            color: 'success',\n            title: 'คุณต้องการแก้ไขข้อมูลหรือไม่',\n            text: `แก้ไขข้อมูลพนักงานชื่อ ${this.form.name}`,\n            acceptText: 'ยืนยัน',\n            cancelText: 'ยกเลิก',\n            accept: this.acceptUpdate\n          })\n        } else {\n          await this.$vs.dialog({\n            color: 'danger',\n            title: 'สถานะการแก้ไขข้อมูล',\n            text: 'แก้ไขข้อมูลพนักงานไม่สำเร็จ',\n            acceptText: 'ปิด'\n          })\n        }\n      } catch (error) {\n        console.log('err', error)\n      }\n    },\n    async acceptUpdate () {\n      try {\n        const resp = await this.$http.put(\n          `/api/user/${this.form.id}`,\n          this.form\n        )\n        this.data_id = resp.data.data.id\n        this.$refs.upload.id = resp.data.data.id\n\n        const first = await this.$refs.upload.submit()\n        console.log(first)\n\n        await this.$vs.notify({\n          color: 'success',\n          title: 'ยืนยันการแก้ไขข้อมูล',\n          text: 'แก้ไขข้อมูลสำเร็จ'\n        })\n\n        await this.$router.push({ name: 'index_em', query: {} })\n      } catch (error) {\n        throw error\n      }\n    }\n  },\n  mounted () {\n    this.setData()\n    setTimeout(() => {\n      this.loadData()\n    }, 0)\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=f3c7d37e&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}