{"version":3,"sources":["webpack:///./src/views/employee/Index.vue?ff0a","webpack:///src/views/employee/Index.vue","webpack:///./src/views/employee/Index.vue?2a88","webpack:///./src/views/employee/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","_v","proxy","users","ref","data","_l","user","_s","code","name","setting_master_user","name_th","branch","staticClass","on","$event","personalHistory","editData","openConfirm","slot","staticRenderFns","deleteUser","methods","$router","push","$vs","dialog","type","color","title","text","accept","acceptDelete","acceptText","cancelText","mounted","loadData","component"],"mappings":"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","file":"js/chunk-2d0c4dd7.92d4f47a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('panel',{attrs:{\"title\":\"ข้อมูลพนักงานทั้งหมด\"},scopedSlots:_vm._u([{key:\"header-right\",fn:function(){return [_c('router-link',{attrs:{\"to\":\"/employee/AddEmployee\"}},[_c('vs-button',{attrs:{\"color\":\"primary\",\"type\":\"filled\"}},[_vm._v(\"เพิ่มข้อมูล\")])],1)]},proxy:true}])},[_c('vs-table',{attrs:{\"pagination\":\"\",\"max-items\":\"5\",\"search\":\"\",\"data\":_vm.users},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(users,user){return _c('vs-tr',{key:user},[_c('vs-td',[_vm._v(\"\\n            \"+_vm._s(data[user].code)+\"\\n          \")]),_c('vs-td',[_vm._v(\"\\n            \"+_vm._s(data[user].name)+\"\\n          \")]),_c('vs-td',[_vm._v(\"\\n            \"+_vm._s(data[user].setting_master_user.name_th)+\"\\n          \")]),_c('vs-td',[_vm._v(\"\\n            \"+_vm._s(data[user].branch)+\"\\n          \")]),_c('vs-td',[_c('div',{staticClass:\"flex mb-3\",attrs:{\"align\":\"center\"}},[_c('div',{staticClass:\"w-1/6 bg-grid-color-secondary h-12\"},[_c('vs-button',{attrs:{\"color\":\"primary\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-search\"},on:{\"click\":function($event){return _vm.personalHistory(data[user])}}})],1),_c('div',{staticClass:\"w-1/6 bg-grid-color h-12\"},[_c('vs-button',{attrs:{\"color\":\"warning\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-edit\"},on:{\"click\":function($event){return _vm.editData(data[user])}}})],1),_c('div',{staticClass:\"w-1/6 bg-grid-color h-12\"},[_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"flat\",\"icon-pack\":\"feather\",\"icon\":\"icon-trash\"},on:{\"click\":function($event){return _vm.openConfirm(data[user])}}})],1),_c('div',{staticClass:\"w-1/6 bg-grid-color-secondary h-12\"})])])],1)})}}])},[_c('template',{slot:\"header\"}),_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"รหัสพนักงาน\")]),_c('vs-th',[_vm._v(\"ชื่อ\")]),_c('vs-th',[_vm._v(\"ตำแหน่ง\")]),_c('vs-th',[_vm._v(\"สาขา\")]),_c('vs-th')],1)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <panel title=\"ข้อมูลพนักงานทั้งหมด\">\n      <template v-slot:header-right>\n        <router-link to=\"/employee/AddEmployee\">\n          <vs-button color=\"primary\" type=\"filled\">เพิ่มข้อมูล</vs-button>\n        </router-link>\n      </template>\n\n      <vs-table pagination max-items=\"5\" search :data=\"users\">\n        <template slot=\"header\"> </template>\n        <template slot=\"thead\">\n          <vs-th>รหัสพนักงาน</vs-th>\n          <vs-th>ชื่อ</vs-th>\n          <vs-th>ตำแหน่ง</vs-th>\n          <vs-th>สาขา</vs-th>\n          <vs-th></vs-th>\n        </template>\n        <template slot-scope=\"{ data }\">\n          <vs-tr :key=\"user\" v-for=\"(users, user) in data\">\n            <vs-td>\n              {{ data[user].code }}\n            </vs-td>\n            <vs-td>\n              {{ data[user].name }}\n            </vs-td>\n            <vs-td>\n              {{ data[user].setting_master_user.name_th}}\n            </vs-td>\n            <vs-td>\n              {{ data[user].branch }}\n            </vs-td>\n            <vs-td>\n              <div class=\"flex mb-3\" align=\"center\">\n                <div class=\"w-1/6 bg-grid-color-secondary h-12\">\n                  <vs-button\n                    color=\"primary\"\n                    type=\"flat\"\n                    icon-pack=\"feather\"\n                    icon=\"icon-search\"\n                    @click=\"personalHistory(data[user])\"\n                  ></vs-button>\n                </div>\n                <div class=\"w-1/6 bg-grid-color h-12\">\n                  <vs-button\n                    color=\"warning\"\n                    type=\"flat\"\n                    icon-pack=\"feather\"\n                    icon=\"icon-edit\"\n                    @click=\"editData(data[user])\"\n                  ></vs-button>\n                </div>\n                <div class=\"w-1/6 bg-grid-color h-12\">\n                  <vs-button\n                    @click=\"openConfirm(data[user])\"\n                    color=\"danger\"\n                    type=\"flat\"\n                    icon-pack=\"feather\"\n                    icon=\"icon-trash\"\n                  ></vs-button>\n                </div>\n                <div class=\"w-1/6 bg-grid-color-secondary h-12\"></div>\n              </div>\n            </vs-td>\n          </vs-tr>\n        </template>\n      </vs-table>\n    </panel>\n\n    <!-- <pre>{{users}}</pre> -->\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      users: [],\n      deleteUser: null\n    }\n  },\n  methods: {\n    async loadData () {\n      try {\n        const { data } = await this.$http.get('/api/user')\n        this.users = data.data\n      } catch (error) {\n        throw error\n      }\n    },\n    personalHistory (user) {\n      this.$router.push({ name: 'user_history', query: { id: user.id } })\n    },\n    editData (user) {\n      this.$router.push({ name: 'user_edit', query: { id: user.id } })\n    },\n    openConfirm (user) {\n      this.deleteUser = user\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: 'คุณต้องการลบข้อมูลใช่หรือไม่',\n        text: `ลบข้อมูลพนักงานชื่อ ${this.deleteUser.name}`,\n        accept: this.acceptDelete,\n        acceptText: 'ยืนยัน',\n        cancelText: 'ยกเลิก'\n      })\n    },\n    async acceptDelete () {\n      try {\n        await this.$http.delete(\n          `/api/user/${this.deleteUser.id}`\n        )\n        await this.loadData()\n      } catch (error) {\n        throw error\n      }\n      await this.$vs.notify({\n        color: 'danger',\n        title: 'ยืนยันการลบข้อมูล',\n        text: 'ลบข้อมูลสำเร็จ'\n      })\n    }\n  },\n  mounted () {\n    this.loadData()\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=6220c3a4&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}