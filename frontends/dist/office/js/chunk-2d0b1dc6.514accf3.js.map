{"version":3,"sources":["webpack:///./src/views/product/Add.vue?b935","webpack:///src/views/product/Add.vue","webpack:///./src/views/product/Add.vue?c4ec","webpack:///./src/views/product/Add.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","proxy","staticClass","on","nodeSelect","model","value","form","callback","$$v","$set","expression","directives","name","rawName","setting_form","type","_e","ref","data_model","$event","openAlert","_v","_s","staticRenderFns","components","data","code","machine_code","vin","name_th","name_en","tags","description","quantity","retail_price","wholesale_price","productInsert","setting_master_product_id","data_id","methods","console","log","node","setData","mounted","component"],"mappings":"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","file":"js/chunk-2d0b1dc6.514accf3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('panel',{attrs:{\"title\":\" เพิ่มสินค้า\"},scopedSlots:_vm._u([{key:\"header-right\",fn:function(){return undefined},proxy:true}])},[_c('div',{staticClass:\"vx-row\"},[_c('custom-tree-select',{attrs:{\"url\":\"/api/setting/master/product\",\"col\":4},on:{\"node-select\":_vm.nodeSelect},model:{value:(_vm.form.setting_master_product_id),callback:function ($$v) {_vm.$set(_vm.form, \"setting_master_product_id\", $$v)},expression:\"form.setting_master_product_id\"}}),_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"ชื่อสินค้า(ภาษาไทย)\",\"col\":4},model:{value:(_vm.form.name_th),callback:function ($$v) {_vm.$set(_vm.form, \"name_th\", $$v)},expression:\"form.name_th\"}}),_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"ชื่อสินค้า(ภาษาอังกฤษ)\",\"col\":4},model:{value:(_vm.form.name_en),callback:function ($$v) {_vm.$set(_vm.form, \"name_en\", $$v)},expression:\"form.name_en\"}})],1),_c('div',{staticClass:\"vx-row\"},[_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"รายละเอียด\",\"col\":4},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}}),_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"รหัสสินค้า\",\"col\":4},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}}),(_vm.setting_form.type === 'ตัวรถ')?_c('form-input',{attrs:{\"label\":\"รหัสเครื่อง\",\"col\":4},model:{value:(_vm.form.machine_code),callback:function ($$v) {_vm.$set(_vm.form, \"machine_code\", $$v)},expression:\"form.machine_code\"}}):_vm._e(),(_vm.setting_form.type === 'ตัวรถ')?_c('form-input',{attrs:{\"label\":\"รหัสตัวถัง\",\"col\":3},model:{value:(_vm.form.vin),callback:function ($$v) {_vm.$set(_vm.form, \"vin\", $$v)},expression:\"form.vin\"}}):_vm._e(),(_vm.setting_form.type === 'อะไหล่')?_c('form-input',{attrs:{\"label\":\"จำนวน\",\"col\":3},model:{value:(_vm.form.quantity),callback:function ($$v) {_vm.$set(_vm.form, \"quantity\", $$v)},expression:\"form.quantity\"}}):_vm._e(),_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"ราคาขายปลีก\",\"col\":2},model:{value:(_vm.form.retail_price),callback:function ($$v) {_vm.$set(_vm.form, \"retail_price\", $$v)},expression:\"form.retail_price\"}}),_c('form-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(\"required\"),expression:\"`required`\"}],attrs:{\"label\":\"ราคาขายส่ง\",\"col\":2},model:{value:(_vm.form.wholesale_price),callback:function ($$v) {_vm.$set(_vm.form, \"wholesale_price\", $$v)},expression:\"form.wholesale_price\"}}),_c('form-tag',{attrs:{\"col\":8},model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}})],1),_c('div',[_c('attached',{ref:\"upload\",attrs:{\"model\":_vm.data_model}})],1),_c('br'),_c('vs-row',[_c('vs-col',{attrs:{\"vs-type\":\"flex\",\"vs-justify\":\"flex-end\",\"vs-align\":\"center\"}},[_c('vs-button',{staticClass:\"mr-3\",on:{\"click\":function($event){return _vm.openAlert()}}},[_vm._v(\"บันทึก\")]),_c('router-link',{attrs:{\"to\":\"/product/checkWarehouse\"}},[_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"filled\"}},[_vm._v(\"ยกเลิก\")])],1)],1)],1),_c('pre',[_vm._v(_vm._s(_vm.form))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <panel title=\" เพิ่มสินค้า\">\n    <template v-slot:header-right> </template>\n\n    <div class=\"vx-row\">\n      <custom-tree-select\n        url=\"/api/setting/master/product\"\n        :col=\"4\"\n        v-model=\"form.setting_master_product_id\"\n        @node-select=\"nodeSelect\"\n      ></custom-tree-select>\n\n      <form-input\n        label=\"ชื่อสินค้า(ภาษาไทย)\"\n        v-model=\"form.name_th\"\n        v-validate=\"`required`\"\n        :col=\"4\"\n      />\n      <form-input\n        label=\"ชื่อสินค้า(ภาษาอังกฤษ)\"\n        v-model=\"form.name_en\"\n        v-validate=\"`required`\"\n        :col=\"4\"\n      />\n    </div>\n    <div class=\"vx-row\">\n      <form-input\n        label=\"รายละเอียด\"\n        v-model=\"form.description\"\n        v-validate=\"`required`\"\n        :col=\"4\"\n      />\n      <form-input\n        label=\"รหัสสินค้า\"\n        v-model=\"form.code\"\n        v-validate=\"`required`\"\n        :col=\"4\"\n      />\n\n      <form-input\n        v-if=\"setting_form.type === 'ตัวรถ'\"\n        label=\"รหัสเครื่อง\"\n        v-model=\"form.machine_code\"\n\n        :col=\"4\"\n      />\n      <form-input\n        v-if=\"setting_form.type === 'ตัวรถ'\"\n        label=\"รหัสตัวถัง\"\n        v-model=\"form.vin\"\n\n        :col=\"3\"\n      />\n\n      <form-input\n        v-if=\"setting_form.type === 'อะไหล่'\"\n        label=\"จำนวน\"\n        v-model=\"form.quantity\"\n\n        :col=\"3\"\n      />\n      <form-input\n        label=\"ราคาขายปลีก\"\n        v-model=\"form.retail_price\"\n        v-validate=\"`required`\"\n        :col=\"2\"\n      />\n      <form-input\n        label=\"ราคาขายส่ง\"\n        v-model=\"form.wholesale_price\"\n        v-validate=\"`required`\"\n        :col=\"2\"\n      />\n      <form-tag :col=\"8\" v-model=\"form.tags\"></form-tag>\n    </div>\n\n    <div>\n      <attached :model=\"data_model\" ref=\"upload\"></attached>\n    </div>\n    <br />\n\n    <vs-row>\n      <vs-col vs-type=\"flex\" vs-justify=\"flex-end\" vs-align=\"center\">\n        <vs-button class=\"mr-3\" @click=\"openAlert()\">บันทึก</vs-button>\n        <router-link to=\"/product/checkWarehouse\">\n          <vs-button color=\"danger\" type=\"filled\">ยกเลิก</vs-button>\n        </router-link>\n      </vs-col>\n    </vs-row>\n\n    <pre>{{ form }}</pre>\n  </panel>\n</template>\n\n<script>\nimport vSelect from 'vue-select'\nexport default {\n  components: {\n    'v-select': vSelect\n  },\n  data () {\n    return {\n      setting_form: {},\n      form: {\n        code: '',\n        machine_code: '',\n        vin:'',\n        name_th: '',\n        name_en: '',\n        tags: [],\n        description: '',\n        quantity: '',\n        retail_price: '',\n        wholesale_price: '',\n        productInsert: '',\n        setting_master_product_id: ''\n      },\n      data_id: '',\n      data_model: 'App\\\\Models\\\\Product\\\\Product'\n    }\n  },\n  methods: {\n    nodeSelect (node) {\n      console.log(node)\n      this.setting_form = node\n      this.setData()\n    },\n    setData () {\n      this.form.name_en = this.setting_form.name_en\n      this.form.name_th = this.setting_form.name_th\n      this.form.retail_price = this.setting_form.retail_price\n    },\n    async openAlert () {\n      try {\n        const result = await this.$validator.validateAll()\n        if (result) {\n          this.$vs.dialog({\n            type: 'confirm',\n            color: 'success',\n            title: 'คุณต้องการเพิ่มข้อมูลหรือไม่',\n            text: `เพิ่มข้อมูลสินค้า  ${this.form.name_th}`,\n            acceptText: 'ยืนยัน',\n            cancelText: 'ยกเลิก',\n            accept: this.acceptAdd\n          })\n        } else {\n          this.$vs.dialog({\n            color: 'danger',\n            title: 'เพิ่มข้อมูลไม่สำเร็จ',\n            text: 'กรุณาตรวจสอบความถูกต้องอีกครั้ง !',\n            acceptText: 'ปิด'\n          })\n        }\n      } catch (error) {\n        console.log('error', error)\n        this.$vs.dialog({\n          color: 'danger',\n          title: 'เพิ่มข้อมูลไม่สำเร็จ',\n          text: 'กรุณาตรวจสอบความถูกต้องอีกครั้ง !',\n          acceptText: 'ปิด'\n        })\n      }\n    },\n    async acceptAdd () {\n      const resp = await this.$http.post('/api/product/', this.form)\n      this.data_id = resp.data.data.id\n      this.$refs.upload.id = resp.data.data.id\n\n      const first = await this.$refs.upload.submit()\n      console.log(first)\n      this.$vs.notify({\n        color: 'success',\n        title: 'ยืนยันการเพิ่มข้อมูล',\n        text: 'เพิ่มข้อมูลสำเร็จ'\n      })\n      this.$router.push({ name: 'product_index', query: {} })\n    }\n  },\n  mounted () {}\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=0251a20a&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0251a20a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}