(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ad84"],{bcf3:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("panel",{attrs:{title:" แก้ไขข้อมูลสินค้า"},scopedSlots:e._u([{key:"header-right",fn:function(){},proxy:!0}])},[r("div",{staticClass:"vx-row"},[r("custom-tree-select",{attrs:{url:"/api/setting/master/product",col:6},model:{value:e.form.setting_master_product_id,callback:function(t){e.$set(e.form,"setting_master_product_id",t)},expression:"form.setting_master_product_id"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"รหัสสินค้า",col:3},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ชื่อสินค้า(ภาษาไทย)",col:3},model:{value:e.form.setting_master_product.name_th,callback:function(t){e.$set(e.form.setting_master_product,"name_th",t)},expression:"form.setting_master_product.name_th"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ชื่อสินค้า(ภาษาอังกฤษ)",col:3},model:{value:e.form.setting_master_product.name_en,callback:function(t){e.$set(e.form.setting_master_product,"name_en",t)},expression:"form.setting_master_product.name_en"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"รายละเอียด",col:3},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),"ตัวรถ"==e.form.setting_master_product.type?r("div",{staticClass:"vx-row"},[r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"รหัสเครื่อง",col:3},model:{value:e.form.vin,callback:function(t){e.$set(e.form,"vin",t)},expression:"form.vin"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ราคาขายปลีก",col:3},model:{value:e.form.retail_price,callback:function(t){e.$set(e.form,"retail_price",t)},expression:"form.retail_price"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ราคาขายส่ง",col:3},model:{value:e.form.wholesale_price,callback:function(t){e.$set(e.form,"wholesale_price",t)},expression:"form.wholesale_price"}}),r("form-tag",{attrs:{col:6},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})],1):e._e(),"อะไหล่"==e.form.setting_master_product.type?r("div",{staticClass:"vx-row"},["อะไหล่"==e.form.setting_master_product.type?r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"จำนวน",col:3},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",t)},expression:"form.quantity"}}):e._e(),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ราคาขายปลีก",col:3},model:{value:e.form.retail_price,callback:function(t){e.$set(e.form,"retail_price",t)},expression:"form.retail_price"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ราคาขายส่ง",col:3},model:{value:e.form.wholesale_price,callback:function(t){e.$set(e.form,"wholesale_price",t)},expression:"form.wholesale_price"}}),r("form-tag",{attrs:{col:6},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})],1):e._e(),"ต่อพ่วง"==e.form.setting_master_product.type?r("div",{staticClass:"vx-row"},["อะไหล่"==e.form.setting_master_product.type?r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"จำนวน",col:3},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",t)},expression:"form.quantity"}}):e._e(),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ราคาขายปลีก",col:3},model:{value:e.form.retail_price,callback:function(t){e.$set(e.form,"retail_price",t)},expression:"form.retail_price"}}),r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"ราคาขายส่ง",col:3},model:{value:e.form.wholesale_price,callback:function(t){e.$set(e.form,"wholesale_price",t)},expression:"form.wholesale_price"}}),r("form-tag",{attrs:{col:6},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})],1):e._e(),r("div",[r("attached",{ref:"upload",attrs:{attached_id:e.form.id,model:e.data_model}})],1),r("br"),r("vs-row",[r("vs-col",{attrs:{"vs-type":"flex","vs-justify":"flex-end","vs-align":"center"}},[r("vs-button",{staticClass:"mr-3",on:{click:function(t){return e.openAlert()}}},[e._v("บันทึก")]),r("router-link",{attrs:{to:"/product/checkWarehouse"}},[r("vs-button",{attrs:{color:"danger",type:"filled"}},[e._v("ยกเลิก")])],1)],1)],1),r("pre",[e._v(e._s(e.form))]),e._v("\n  setting_master_product_id\n  "),r("pre",[e._v(e._s(e.form.setting_master_product_id))]),r("pre",[e._v("---------------------------")]),e._v("\n  setting_master_product.id\n  "),r("pre",[e._v(e._s(e.form.setting_master_product.id))])],1)},i=[],o=(r("96cf"),r("3b8d")),s={data:function(){return{id:"",attached_id:"",data_model:"App\\Models\\Product\\Product",form:{code:"",vin:"",name_th:"",name_en:"",tags:[],description:"",quantity:"",retail_price:"",wholesale_price:"",productInsert:"",setting_master_product_id:"",setting_master_product:{name_th:"",name_en:""}}}},methods:{setData:function(){this.form.id=this.$route.query.id},loadData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.get("/api/product/".concat(this.form.id));case 3:t=e.sent,r=t.data,this.form=r.data,this.attached_id=r.data.id,e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),openAlert:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$validator.validateAll();case 3:t=e.sent,t?this.$vs.dialog({type:"confirm",color:"success",title:"คุณต้องการแก้ไขข้อมูลหรือไม่",text:"แก้ไขข้อมูลสินค้า  ".concat(this.form.setting_master_product.name_th," ( ").concat(this.form.setting_master_product.name_en," )"),acceptText:"ยืนยัน",cancelText:"ยกเลิก",accept:this.acceptEdit}):this.$vs.dialog({color:"danger",title:"แก้ไขข้อมูลไม่สำเร็จ",text:"กรุณาตรวจสอบการกรอกข้อมูลให้ครบถ้วน",acceptText:"ปิด",accept:this.acceptAlert}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$vs.dialog({color:"danger",title:"แก้ไขข้อมูลไม่สำเร็จ",text:"กรุณาตรวจสอบการกรอกข้อมูลให้ครบถ้วน",acceptText:"ปิด",accept:this.acceptAlert});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),acceptEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.patch("/api/product/".concat(this.form.id),this.form);case 2:return t=e.sent,this.attached_id=t.data.data.id,this.$refs.upload.id=t.data.data.id,e.next=7,this.$refs.upload.submit();case 7:r=e.sent,console.log(r),this.$vs.notify({color:"success",title:"ยืนยันการแก้ไขข้อมูล",text:"แก้ไขข้อมูลสำเร็จ"}),this.$router.push({name:"product_index",query:{}});case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this;this.setData(),setTimeout((function(){e.loadData()}),0)}},n=s,c=r("2877"),l=Object(c["a"])(n,a,i,!1,null,"4a4a1ee7",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d21ad84.61e4d948.js.map